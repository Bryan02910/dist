import{g as x,a as C,s as h,r as i,u as j,b as f,_ as m,j as s,c as g,e as y,M as A}from"./index-UyDEpSKi.js";import{P as w}from"./Page-DWSL0diS.js";import{T as N,A as v}from"./ToastAutoHide-mD-74I2T.js";import{C as P}from"./Container-uQWJgnJV.js";import{B as S,T as c}from"./Box-BLXI0_F0.js";import{G as u}from"./Grid-CfjZ72w2.js";import{P as k}from"./ButtonBase-Bhi2RUyb.js";import{B as R}from"./Button-CjDs8j-X.js";import"./Grow-41TwNg0m.js";import"./useThemeProps-D04-WiJJ.js";function B(o){return C("MuiCard",o)}x("MuiCard",["root"]);const U=["className","raised"],D=o=>{const{classes:e}=o;return y({root:["root"]},B,e)},T=h(k,{name:"MuiCard",slot:"Root",overridesResolver:(o,e)=>e.root})(()=>({overflow:"hidden"})),M=i.forwardRef(function(e,n){const r=j({props:e,name:"MuiCard"}),{className:l,raised:a=!1}=r,d=f(r,U),t=m({},r,{raised:a}),p=D(t);return s.jsx(T,m({className:g(p.root,l),elevation:a?8:void 0,ref:n,ownerState:t},d))});function V(o){return C("MuiCardActions",o)}x("MuiCardActions",["root","spacing"]);const E=["disableSpacing","className"],F=o=>{const{classes:e,disableSpacing:n}=o;return y({root:["root",!n&&"spacing"]},V,e)},$=h("div",{name:"MuiCardActions",slot:"Root",overridesResolver:(o,e)=>{const{ownerState:n}=o;return[e.root,!n.disableSpacing&&e.spacing]}})(({ownerState:o})=>m({display:"flex",alignItems:"center",padding:8},!o.disableSpacing&&{"& > :not(style) ~ :not(style)":{marginLeft:8}})),_=i.forwardRef(function(e,n){const r=j({props:e,name:"MuiCardActions"}),{disableSpacing:l=!1,className:a}=r,d=f(r,E),t=m({},r,{disableSpacing:l}),p=F(t);return s.jsx($,m({className:g(p.root,a),ownerState:t,ref:n},d))});function I(o){return C("MuiCardContent",o)}x("MuiCardContent",["root"]);const z=["className","component"],G=o=>{const{classes:e}=o;return y({root:["root"]},I,e)},L=h("div",{name:"MuiCardContent",slot:"Root",overridesResolver:(o,e)=>e.root})(()=>({padding:16,"&:last-child":{paddingBottom:24}})),b=i.forwardRef(function(e,n){const r=j({props:e,name:"MuiCardContent"}),{className:l,component:a="div"}=r,d=f(r,z),t=m({},r,{component:a}),p=G(t);return s.jsx(L,m({as:a,className:g(p.root,l),ownerState:t,ref:n},d))}),ss=()=>{i.useContext(A);const[o,e]=i.useState([]),[n,r]=i.useState([]),[l,a]=i.useState({ident:null,message:null,type:null}),d=async()=>{try{const t=await v().get("/stock_bajo");e(t.data);const p=await v().get("/farmacos_prontos_a_vencer");r(p.data)}catch(t){console.error("Error fetching data:",t),a({ident:new Date().getTime(),message:"Error al obtener los datos",type:"error"})}};return i.useEffect(()=>{d()},[]),s.jsxs(w,{title:"Chapina | Stock Bajo y Fármacos Prontos a Vencer",children:[s.jsx(N,{message:l}),s.jsxs(P,{maxWidth:"lg",children:[s.jsx(S,{sx:{pb:5},children:s.jsx(c,{variant:"h4",children:"Stock Bajo"})}),s.jsx(u,{container:!0,spacing:2,children:o.map(t=>s.jsx(u,{item:!0,xs:12,sm:6,md:4,children:s.jsxs(M,{variant:"outlined",children:[s.jsxs(b,{children:[s.jsx(c,{variant:"h6",children:t.nombre}),s.jsxs(c,{color:"textSecondary",children:["ID: ",t.id]}),s.jsxs(c,{color:"textSecondary",children:["Stock Total: ",t.stock_total_calculado]}),s.jsxs(c,{color:"textSecondary",children:["Nivel de Reorden: ",t.nivel_reorden]})]}),s.jsx(_,{children:s.jsx(R,{size:"small",color:"primary",children:"Detalles"})})]})},t.id))}),s.jsx(S,{sx:{pb:5,mt:5},children:s.jsx(c,{variant:"h4",children:"Fármacos Prontos a Vencer"})}),s.jsx(u,{container:!0,spacing:2,children:n.map(t=>s.jsx(u,{item:!0,xs:12,sm:6,md:4,children:s.jsxs(M,{variant:"outlined",children:[s.jsxs(b,{children:[s.jsx(c,{variant:"h6",children:t.nombre}),s.jsxs(c,{color:"textSecondary",children:["ID: ",t.id]}),s.jsxs(c,{color:"textSecondary",children:["Fecha de Vencimiento: ",t.fecha_vencimiento]})]}),s.jsx(_,{children:s.jsx(R,{size:"small",color:"primary",children:"Detalles"})})]})},t.id))})]})]})};export{ss as default};
